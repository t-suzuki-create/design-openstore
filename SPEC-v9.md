# OpenStore スワイプ型物件仕分けアプリ 仕様書 v9

**バージョン**: v9.0
**プロトタイプファイル**: `swipe-prototype-v9.html`
**対象ユーザー**: 出店開発会社（店舗管理部スタッフ）
**プラットフォーム**: LINEミニアプリ（モバイルファースト、最大幅430px）

---

## 1. 概要

不動産物件をTinder風のスワイプUIで「興味あり / 興味なし」に仕分けし、興味ある物件の内見申込までをワンストップで行うLINEミニアプリ。

### コンセプト

- 1物件を数秒で判断できるスワイプ体験
- 配信された物件は**4日で自動スキップ**（未仕分け放置を防止）
- 興味あり物件から一括内見リクエスト

---

## 2. 画面一覧（全17画面）

| # | 画面ID | 画面名 | 説明 |
|---|--------|--------|------|
| 1 | `welcome` | ウェルカム | LINEログイン画面（モノトーングラデーション背景） |
| 2 | `register` | 会員登録 | 会社名・担当者名・電話番号 |
| 3 | `guide` | 使い方ガイド | 3ステップ説明 |
| 4 | `criteria-biz` | 条件を登録 | 条件名テキスト入力 + 業態チェックボックスグリッド |
| 5 | `criteria-area` | エリア設定 | テキスト検索→タグ→選択中→駅徒歩の順 |
| 6 | `criteria-specs` | 物件条件 | 坪数・階数・賃料(万円)・坪賃料上限・初期費用上限 |
| 7 | `tutorial` | チュートリアル | スワイプ操作説明 |
| 8 | `dashboard` | ダッシュボード | ダークグラデーションCTA |
| 9 | `swipe` | 物件仕分け | 地図・建物写真実装 |
| 10 | `swipe-complete` | 仕分け完了 | チェックアイコンアニメーション |
| 11 | `skipped` | スキップ済み物件 | 直近30日の自動スキップ一覧 |
| 12 | `property-detail` | 物件詳細 | 写真カルーセル（4枚スワイプ）+ 設備動的生成 |
| 13 | `interested` | 興味あり物件 | 選択機能付き一覧 + 一括内見申込 |
| 14 | `viewings` | 内見 | 3タブ切替（調整中/予定/完了） |
| 15 | `viewing-detail` | 内見日程調整 | ラジオ選択UI |
| 16 | `criteria` | 検索条件 | 条件カード一覧 |
| 17 | `criteria-detail` | 条件詳細 | バーチャート統計 |

---

## 3. 画面遷移

```
ウェルカム → 会員登録 → 使い方ガイド → 条件登録(条件名+業態) → エリア設定 → 物件条件 → チュートリアル
    ↓
ダッシュボード（ホーム）
    ├── 物件仕分け → 仕分け完了 → 興味あり物件
    ├── スキップ済み一覧
    ├── 興味あり物件 → 物件詳細 / 一括内見リクエスト
    ├── 内見一覧 → 内見日程調整 → 物件詳細
    └── 検索条件 → 条件詳細
```

### ボトムナビゲーション（4タブ）

| タブ | アイコン | ラベル | バッジ | 遷移先 |
|------|----------|--------|--------|--------|
| 1 | チェックマーク | 仕分け | 未仕分け件数 | ダッシュボード |
| 2 | ハート | 興味あり | 興味あり件数 | 興味あり物件 |
| 3 | カレンダー | 内見 | 調整中件数 | 内見一覧 |
| 4 | 歯車 | 条件 | — | 検索条件 |

**非表示タイミング**: オンボーディング画面、スワイプ画面

### オンボーディングプログレスドット

全ページ5つのドットで進捗を表示:
ガイド → 1枚目(条件名+業態) → 2枚目(エリア) → 3枚目(物件条件) → チュートリアル

---

## 4. オンボーディングフロー

### 4.1 会員登録

| 項目 | 入力形式 |
|------|----------|
| 会社名 | テキスト入力 |
| 担当者名 | テキスト入力 |
| 携帯電話番号 | テキスト入力 |

### 4.2 使い方ガイド（3ステップ）

1. 物件が届く（毎日AIがおすすめ物件を配信）
2. スワイプで仕分け（右＝興味あり、左＝興味なし）
3. まとめて内見申込

### 4.3 条件登録（3枚構成）

#### 1枚目: 条件名 + 業態選択

- **条件名**: テキスト入力（例: 「渋谷・六本木 飲食」）
- **業態選択**: カテゴリ別チェックボックスで複数選択

| カテゴリ | 選択肢 |
|----------|--------|
| 飲食 | ヘビー飲食、軽飲食、バー・クラブ、スナック |
| 美容 | 美容室・理容室、ネイルサロン、まつげサロン、エステサロン、リラクゼーション |
| ジム | フィットネス、ゴルフスクール、道場・スポーツ教室 |
| 娯楽 | カラオケ、漫画カフェ、ゲームセンター、パチンコ |
| その他 | 物販、医療施設、学習塾・教室、サービス業 |

#### 2枚目: エリア設定

以下の順番で表示:

1. **テキスト検索**: 駅名でリアルタイムフィルタリング
2. **タグ**: プリセットの駅グループを一括選択（ターミナル駅、商業立地、オフィス需要、大学生が多い、お勧め住居エリア）
3. **選択中**: カウンター「選択中: N駅」+ 選択済みチップリスト（×で削除可能）
4. **駅徒歩**: セレクト（1分〜10分以内）

#### 3枚目: 物件条件

| 項目 | 入力形式 |
|------|----------|
| 坪数 | 下限〜上限（レンジ入力） |
| 階数 | チェックボックス（B1F / 1F / 2F / 3F以上） |
| 賃料 | 下限〜上限（万円、坪数と同じレンジ入力） |
| 坪賃料上限 | 数値入力（円/坪） |
| 初期費用上限 | 数値入力（万円） |

---

## 5. ダッシュボード

### 5.1 挨拶

時間帯に応じた動的挨拶:
- 5〜11時: おはようございます
- 11〜17時: こんにちは
- 17〜5時: お疲れ様です

### 5.2 未仕分けCTA（メインカード）

ダークグラデーション背景の目立つカード。

- 件数はスワイプ進行に応じて動的に更新
- 「仕分けを始める」ボタンにパルスアニメーション
- 「直近30日のスキップ」リンクでスキップ済み一覧へ遷移

### 5.3 直近7日間の統計

| 指標 | 上部カラーライン |
|------|----------------|
| 配信 | 黒 |
| 興味あり | 緑 |
| 内見 | 青 |
| 興味あり率 | 黄 |

### 5.4 対応が必要（アクション項目）

緊急度に応じた左ボーダー色付きのカード。

| アクション | アイコン | ボーダー色 |
|------------|----------|------------|
| 内見日程の回答待ち | ⚡ | 黄（amber） |
| 内見予定の確認 | 📋 | 青（blue） |

---

## 6. 物件仕分け（スワイプ）

### 6.1 物件の期限管理

| 経過日数 | ステータス | カードバッジ | バッジ色 |
|----------|-----------|-------------|---------|
| 0日（今日配信） | pending | 「今日」 | 緑 |
| 1日前 | pending | 「1日前」 | 黄 |
| 2日前 | pending | 「2日前」 | 黄橙 |
| 3日前 | pending | 「3日前」 | 赤（パルスアニメ） |
| **4日以上** | **expired** | — | **自動スキップ（カード非表示）** |

- 古い順（期限が近い順）にスワイプ表示
- スキップは「興味なし」とは別ステータス → **興味あり率に影響しない**
- 直近30日分のスキップ物件は一覧で閲覧可能

### 6.2 物件写真の自動取得（Google API）

| 順番 | 内容 | API |
|------|------|-----|
| 1枚目 | **地図（ピン刺し）** | Google Maps Static API |
| 2枚目 | **建物外観写真** | Google Street View Static API |
| 3枚目〜 | 内装・間取り等 | 手動アップロード |

### 6.3 カード構造

```
┌─────────────────────────────┐
│  [写真ドット]  ● ● ○ ○     │  ← 写真数インジケーター
│  [期限バッジ] 今日           │  ← 左上
│                             │
│     写真エリア（全面）        │  ← タップで左右切替
│                             │
│  [興味あり] スタンプ         │  ← 右スワイプ時に表示
│  [興味なし] スタンプ         │  ← 左スワイプ時に表示
│                    [📄][ℹ️] │  ← サイドボタン（概要書/詳細）
├─────────────────────────────┤
│ 物件名（最大2行）            │
│ 🚉 駅名  徒歩N分             │  ← グラデーションオーバーレイ
│ N坪  NF  💰 N万円            │
└─────────────────────────────┘
```

### 6.4 カードスタック

| レイヤー | スケール | Y位置 | Z-index |
|----------|---------|-------|---------|
| メインカード | 1.0 | 0px | 2 |
| 背景カード1 | 0.975 | +4px | 1 |
| 背景カード2 | 0.95 | +8px | 0 |

### 6.5 スワイプ操作

| 操作 | 条件 | アクション |
|------|------|-----------|
| 右スワイプ | 100px以上 or 速度800px/s以上 | 興味あり + トースト表示 |
| 左スワイプ | 100px以上 or 速度800px/s以上 | 興味なし |
| 閾値未満 | — | スナップバック |
| 写真左半分タップ | — | 前の写真 |
| 写真右半分タップ | — | 次の写真 |

- 右スワイプ時に「興味ありに追加しました」トースト表示
- スワイプ中はスタンプ（興味あり/興味なし）がドラッグ量に応じて透明度変化

### 6.6 アクションバー

| ボタン | サイズ | 機能 |
|--------|--------|------|
| 戻す | 48×48 | 直前のスワイプを取り消し |
| 興味なし（×） | 64×64 | 左スワイプと同等 |
| 興味あり（✓） | 64×64 | 右スワイプと同等 |
| 詳細（ℹ） | 48×48 | 物件詳細シートを表示 |

### 6.7 仕分け完了画面

```
✓ チェック完了！

興味あり  N件
興味なし  N件
スキップ  N件（期限切れ）  ← skippedCount > 0 の場合のみ

[ 興味あり物件を見る ]
[ ホームに戻る ]
```

---

## 7. 物件詳細

### 7.1 写真カルーセル

- 各物件の全写真（地図・外観・内装・間取りの4枚）を**左右スワイプ**で切り替え
- 各スライド左上にラベル表示（地図、外観、内装、間取り）
- 下部にドットインジケーター + 右下に「1 / 4」カウンター
- タッチスワイプ＆マウスドラッグ対応
- 物件名・駅情報はギャラリー下に配置

### 7.2 キーバー（3カラム）

| 坪数 | 階数 | 月額賃料（アクセントカラー） |

### 7.3 物件情報テーブル

| 項目 | 値 |
|------|----|
| 坪賃料 | 算出値（賃料÷坪数） |
| 初期費用 | 応相談 等 |
| 敷金 | N ヶ月 |
| 礼金 | なし 等 |
| 管理費 | N円/月 |

### 7.4 設備情報テーブル

物件ごとに異なるデータで動的に生成。

| 項目 | 値の例 |
|------|--------|
| 状態 | スケルトン / 事務所仕様 / 居抜き |
| 給排水 | あり / なし（引込可） / なし（引込不可） / **未確認** |
| トイレ | 専用 / 共有 / なし / **未確認** |
| エアコン | 個別空調 / あり（設備） / あり（残置） / なし / **未確認** |
| ダクト | あり / なし（引込可） / なし（引込不可） / 設置可 / **未確認** |
| 天井高 | 数値（例: 3.2m） / **未確認** |

**表示スタイル**:
- テーブル形式（`ds-table`）でラベル＋値の2列表示
- 確認済み: 黒文字（`color: #1a1a1a`、`font-weight: 600`）
- 未確認: グレー文字（`color: #bbb`、`font-weight: 400`）← CSSクラス `.unconfirmed`

### 7.5 出店可能業態

物件ごとに出店可否を業態カテゴリ別に表示。物件詳細ページおよび詳細シート（スワイプ画面）の両方で表示。

**3段階の表示スタイル**:

| ステータス | プレフィックス | スタイル |
|-----------|--------------|---------|
| `ok`（出店可） | 〇 | 黒背景 + 白文字（太字） |
| `ng`（出店不可） | なし | 薄グレー背景 + グレー文字 + 取消線 |
| `unknown`（未確認） | ？ | 白背景 + 黒文字 + グレーボーダー |

各業態はピル型タグ（`border-radius: full`、`padding: 6px 12px`、`font-size: 11px`）で表示。

### 7.6 ボトムアクション

- Google マップで見る
- 物件概要書を見る

---

## 8. 興味あり物件

### 8.1 リスト表示

日付グループ（今日 / 昨日 / 日付）ごとに物件を表示。

各アイテムの3行レイアウト:
- **1行目**: 物件名（+ 「内見リク」バッジ：申込済みの場合）
- **2行目**: 駅徒歩 / 階数 / 現況（普通テキスト）
- **3行目**: 坪数 / 賃料

### 8.2 選択・一括内見申込

- 物件をチェックで選択
- 選択バー: 「N件選択」表示 + 「N件の内見をリクエスト」ボタン
- 選択時: カード背景が薄緑（accent-light）に変化

### 8.3 内見リクエストシート

ボトムシート形式で表示:
- 選択済み物件一覧
- 希望日時ピッカー（日付 + 時間帯）
- 備考テキストエリア
- 送信ボタン

---

## 9. スキップ済み物件一覧

- 説明文: 「4日以上経過した未仕分け物件は自動的にスキップされます。直近30日分を表示しています。」
- 各物件: 物件名、駅・徒歩・坪数・賃料、経過日数
- 閲覧のみ（アクション不可）

---

## 10. 内見管理

### 10.1 タブ

| タブ | 内容 |
|------|------|
| 調整中 | 日程回答待ち・運営返答待ちの物件 |
| 予定 | 日程確定済みの内見 |
| 完了 | 実施済みの内見 |

### 10.2 日程調整画面

- ヒーロー + キーバー（物件情報）
- ステータスバッジ（回答待ち / 確定）
- 提案日程リスト（ラジオ選択）
- アクション: 「この日程で確定する」/「都合が合わない」

---

## 11. 検索条件管理

### 11.1 条件一覧

カード形式で各条件を表示:
- 条件名 + ステータスバッジ（有効 / 停止中）
- サマリー: 業態 / 設定駅数 / 徒歩 / 坪数
- 統計グリッド: 経過日数 / 設定駅数 / 配信件数 / 興味あり率 / 内見済

### 11.2 条件詳細

- 配信実績サマリー
- 仕分け結果バーチャート（興味あり / 興味なし / 未仕分け）
- 内見実績（内見済み / 調整中）
- 30日間配信数推移チャート
- 条件設定の詳細表示
- アクション: 条件を編集 / 停止する

---

## 12. デザインシステム

### 12.1 デザインコンセプト: モノトーンUI

- プロフェッショナルで洗練された印象
- 情報の視認性を最優先
- モノトーンをベースに、必要な箇所のみLINE緑を使用（CTA、アクティブ状態など）

### 12.2 カラートークン

| トークン | 値 | 用途 |
|----------|----|------|
| `--accent` | #06C755 | LINE緑・メインアクセント |
| `--accent-light` | #E8F8EE | 選択状態の背景 |
| `--primary` | #000000 | テキスト・ボタン |
| `--bg` | #FAFAFA | ページ背景 |
| `--text-primary` | #000000 | 本文テキスト |
| `--text-secondary` | #666666 | 補助テキスト |
| `--text-tertiary` | #999999 | 薄いテキスト |
| `--red` | #EF4444 | エラー・興味なし |
| `--blue` | #3B82F6 | 情報・リンク |
| `--amber` | #F59E0B | 警告・回答待ち |
| `--border` | #E5E7EB | ボーダー |

### 12.3 タイポグラフィ

| トークン | サイズ | 用途 |
|----------|--------|------|
| `text-xs` | 11px | キャプション・バッジ |
| `text-sm` | 13px | 補助テキスト |
| `text-base` | 15px | 本文 |
| `text-lg` | 17px | セクション見出し |
| `text-xl` | 20px | ページタイトル |
| `text-2xl` | 24px | 統計数値 |

**フォント**: `-apple-system, BlinkMacSystemFont, "Hiragino Sans", "Noto Sans JP", sans-serif`

### 12.4 コンポーネント

#### ボタン
- プライマリ: 黒背景 + 白文字
- アクセント: LINE緑（重要なCTAのみ）
- アウトライン: 透明背景 + グレーボーダー

#### バッジ
- 新着: LINE緑系 / 1日前: イエロー系 / 2日前: オレンジ系 / 3日前: レッド系（パルスアニメ）

#### カード
- 背景: 白 / ボーダー: #F0F0F0 / シャドウ: 最小限 / 角丸: 12px

### 12.5 スペーシング・角丸

| トークン | 値 |
|----------|----|
| `--space-xs` | 4px |
| `--space-sm` | 8px |
| `--space-md` | 12px |
| `--space-lg` | 16px |
| `--space-xl` | 20px |
| `--radius-sm` | 8px |
| `--radius-md` | 12px |
| `--radius-lg` | 16px |
| `--radius-full` | 9999px |

### 12.6 レイアウト定数

| トークン | 値 |
|----------|----|
| `--header-height` | 52px |
| `--bottom-nav-height` | 56px |
| 最大幅 | 430px |

### 12.7 CSSプレフィックス規則

| プレフィックス | 用途 |
|---------------|------|
| `ds-` | 物件詳細シート（Detail Sheet） |
| `vd-` | 内見詳細（Viewing Detail） |
| `dash-` | ダッシュボード |
| `cd-` | 条件詳細（Criteria Detail） |
| `sp-` | 駅選択ピッカー（Station Picker） |
| `vr-` | 内見リクエスト（Viewing Request） |

---

## 13. アニメーション・インタラクション

| 要素 | アニメーション | 詳細 |
|------|--------------|------|
| CTAボタン | パルス | 2.5秒周期のbox-shadow点滅 |
| 3日前バッジ | パルス | 1.5秒周期の赤shadow点滅 |
| カードフライオフ | transform | 400ms ease-out、X±500px + rotation ±15° |
| カードスナップバック | transform | 300ms ease |
| 写真切替 | フェード | 250ms ease |
| ページ遷移 | スライド | 300ms ease-out |
| 完了アイコン | スケールイン | 500ms ease 0.1s |
| トースト | フロストガラス | backdrop-filter: blur(12px) |
| 詳細シート | スライドアップ | 300ms、背景オーバーレイ付き |

---

## 14. データ構造

### 14.1 物件データ（Property）

```
{
  id:        Number    // 一意ID
  name:      String    // "渋谷区神南一丁目 商業ビル用地"
  station:   String    // "渋谷駅"
  walk:      String    // "5分"
  area:      String    // "45.2坪"
  floor:     String    // "1F"
  rent:      String    // "350万円"
  condition: String    // "スケルトン" / "事務所仕様" / "居抜き"
  daysAgo:   Number    // 配信からの経過日数（0=今日, 4以上=スキップ）
  status:    String    // "pending"
  photos:    Array     // 写真配列（下記）
  bizTypes:  Object    // 業態別出店可否 { "ヘビー飲食": "ok", "軽飲食": "ng", ... }
  equip:     Object    // 設備情報 { 状態: "スケルトン", 給排水: "あり", ... }
}
```

### 14.2 写真データ（Photo）

```
{
  type:   "img" | "grad"   // 画像 or CSSグラデーション
  src:    String            // URL or グラデーション文字列
  label:  String            // "地図", "外観", "内装", "間取り"
}
```

### 14.3 デモデータ（7物件）

| ID | 物件名 | 駅 | 坪数 | 賃料 | 経過 | 現況 |
|----|--------|----|------|------|------|------|
| 1 | 渋谷区神南一丁目 商業ビル用地 | 渋谷駅 | 45.2坪 | 350万円 | 今日 | スケルトン |
| 2 | 港区六本木三丁目 オフィスビル | 六本木駅 | 62.8坪 | 520万円 | 今日 | 事務所仕様 |
| 3 | 新宿区歌舞伎町二丁目 店舗用地 | 新宿駅 | 28.5坪 | 180万円 | 今日 | 居抜き |
| 4 | 中央区銀座六丁目 商業施設 | 銀座駅 | 85.0坪 | 680万円 | 今日 | スケルトン |
| 5 | 千代田区丸の内一丁目 複合ビル | 東京駅 | 120.5坪 | 980万円 | 1日前 | 事務所仕様 |
| 6 | 目黒区自由が丘二丁目 店舗 | 自由が丘駅 | 32.0坪 | 150万円 | 1日前 | 居抜き |
| 7 | 渋谷区恵比寿一丁目 飲食ビル | 恵比寿駅 | 25.3坪 | 55万円 | 1日前 | スケルトン |

---

## 15. 駅選択ピッカー

### 15.1 タグカテゴリ

| タグ名 | 含まれる駅（例） |
|--------|-----------------|
| ターミナル駅 | 渋谷、新宿、池袋、東京、品川 |
| 商業立地 | 銀座、表参道、原宿、自由が丘 |
| オフィス需要 | 大手町、丸の内、六本木、赤坂 |
| 大学生が多い | 高田馬場、駒場東大前、御茶ノ水 |
| おすすめ住居エリア | 中目黒、三軒茶屋、下北沢、吉祥寺 |

26駅のマスタデータ。各駅に `name`、`pref`、`lines`（路線配列）、`tags`（カテゴリ配列）を保持。

---

## 16. ファイル構成

```
design-openstore/
├── swipe-prototype-v9.html       # v9モックアップ（最新版）
├── SPEC-v9.md                    # 本仕様書
├── building1/                    # 物件写真セット1（地図・外観・内装・間取り）
├── building2/                    # 物件写真セット2
└── building3/                    # 物件写真セット3
```

---

## 17. バージョン履歴

| Ver | 主な変更 |
|-----|---------|
| v1 | ベーススワイプUI、物件カード、写真切替 |
| v2 | オンボーディング、興味ありリスト、一括内見リクエスト |
| v3 | ダッシュボード、内見管理（タブ）、日程調整、検索条件管理 |
| v4 | バグ修正（ナビ遷移、写真表示）、デザインブラッシュアップ |
| v5 | CSS統合、駅選択ピッカー追加、完了タブ空状態改善 |
| v6 | 4日自動スキップ制度、日別内訳CTA、期限バッジ、スキップ済み一覧 |
| v7 | モノトーンUI全面刷新、実写真・地図画像実装 |
| v8 | カード・一覧レイアウト統一（3行: 物件名/駅徒歩階数条件/賃料坪数） |
| v9 | 条件登録3ステップ再構成、写真カルーセル、設備動的生成＆未確認表示、出店可能業態3段階表示、「興味あり」統一 |

---

**作成日**: 2026-02-21
**最終更新**: 2026-02-22
**作成者**: Claude Sonnet 4.5 / Claude Opus 4.6
