# OpenStore スワイプ型物件仕分けアプリ 仕様書 v9

**バージョン**: v9.0
**プロトタイプファイル**: `swipe-prototype-v9.html`
**対象ユーザー**: 出店開発会社（店舗管理部スタッフ）
**プラットフォーム**: LINEミニアプリ（モバイルファースト、最大幅430px）

---

## v8〜v9の主な変更点

### 条件登録フローの再構成（3ステップ）

条件登録を3枚のカード構成に再構成。

| ステップ | 画面 | 内容 |
|----------|------|------|
| 1枚目 | 条件を登録 | **条件名**（テキスト入力）+ **業態選択**（チェックボックスグリッド） |
| 2枚目 | エリアを設定 | **テキスト検索** → **タグ**（ターミナル駅、商業立地等） → **選択中**（カウンター＋選択済みリスト） → **駅徒歩**（セレクト） |
| 3枚目 | 物件条件 | **坪数**（下限〜上限） → **階数**（チェックボックス） → **賃料**（万円、下限〜上限） → **坪賃料上限** → **初期費用上限** |

- プログレスドットを全ページ5つに統一（ガイド→1枚目→2枚目→3枚目→チュートリアル）
- 2枚目のエリア選定は「テキスト検索→タグ→選択中→駅徒歩」の順に並び替え
- 3枚目に賃料フィールド（万円単位、坪数と同じ下限〜上限レンジ入力）を追加

### 物件詳細の写真カルーセル

- ヒーロー画像を**スワイプ対応カルーセル**に変更
- 各物件の全写真（地図・外観・内装・間取りの4枚）を左右スワイプで切り替え
- 各スライド左上にラベル表示（地図、外観、内装、間取り）
- 下部にドットインジケーター + 右下に「1 / 4」カウンター
- タッチスワイプ＆マウスドラッグ対応
- 物件名・駅情報はギャラリー下に配置

### 物件詳細の設備情報：動的生成＆未確認表示

設備情報を物件ごとに異なるデータで動的に生成。

**設備項目と選択肢の例**:

| 項目 | 値の例 |
|------|--------|
| 状態 | スケルトン / 事務所仕様 / 居抜き |
| 給排水 | あり / なし（引込可） / なし（引込不可） / **未確認** |
| トイレ | 専用 / 共有 / なし / **未確認** |
| エアコン | 個別空調 / あり（設備） / あり（残置） / なし / **未確認** |
| ダクト | あり / なし（引込可） / なし（引込不可） / 設置可 / **未確認** |
| 天井高 | 数値（例: 3.2m） / **未確認** |

**表示スタイル**:
- テーブル形式（`ds-table`）でラベル＋値の2列表示
- 確認済み: 黒文字（`color: #1a1a1a`、`font-weight: 600`）
- 未確認: グレー文字（`color: #bbb`、`font-weight: 400`）← CSSクラス `.unconfirmed`

**物件ごとの未確認分布**:

| 物件例 | 未確認の項目 |
|--------|-------------|
| 渋谷区神南（id:1） | なし（全確認済み） |
| 港区六本木（id:2） | 給排水、エアコン |
| 新宿区歌舞伎町（id:3） | 天井高 |
| 中央区銀座（id:4） | 給排水、トイレ、ダクト |
| 目黒区自由が丘（id:6） | エアコン、ダクト、天井高 |
| 渋谷区恵比寿（id:7） | トイレ |

### 物件詳細の出店可能業態

物件ごとに出店可否を業態カテゴリ別に表示。物件詳細ページおよび詳細シート（スワイプ画面の上スワイプ）の両方で表示。

**業態カテゴリ**:

| カテゴリ | 業態 |
|----------|------|
| 飲食 | ヘビー飲食、軽飲食、バー・クラブ、スナック |
| 美容 | 美容室・理容室、ネイルサロン、まつげサロン、エステサロン、リラクゼーション |
| ジム | フィットネス、ゴルフスクール、道場・スポーツ教室 |
| 娯楽 | カラオケ、漫画カフェ、ゲームセンター、パチンコ |
| その他 | 物販、医療施設、学習塾・教室、サービス業 |

**3段階の表示スタイル**:

| ステータス | プレフィックス | スタイル |
|-----------|--------------|---------|
| `ok`（出店可） | 〇 | 黒背景 + 白文字（`#000` bg, `#fff` text, 太字） |
| `ng`（出店不可） | なし | 薄グレー背景 + グレー文字 + 取消線（`#f5f5f5` bg, `#999` text） |
| `unknown`（未確認） | ？ | 白背景 + 黒文字 + グレーボーダー（`#fff` bg, `#000` text, `#ccc` border） |

各業態はピル型タグ（`border-radius: full`、`padding: 6px 12px`、`font-size: 11px`）で表示。

### カード・一覧レイアウトの統一

- **1行目**: 物件名（+ 内見リクエストバッジ）
- **2行目**: 駅徒歩 / 階数 / 条件
- **3行目**: 賃料 / 坪数 / 坪賃料

---

## v7の主な変更点

### 1. デザインシステムの刷新：モノトーンUI

v6のLINE緑を基調としたデザインから、**洗練されたモノトーンデザイン**に全面刷新。

| 要素 | v6 | v7 |
|------|----|----|
| メインカラー | LINE緑（#06C755） | ブラック（#000000） |
| アクセント | LINE緑 | LINE緑（最小限の使用） |
| 背景 | #F7F8FA | #FAFAFA |
| テキスト | #1A1D23 | #000000 / #666666 / #999999 |
| ボタン | LINE緑 | ブラック / グレー階調 |
| カード | 白背景 | 白背景 + 極薄グレーボーダー |

**デザインコンセプト**:
- プロフェッショナルで洗練された印象
- 情報の視認性を最優先
- ミニマルで無駄のないUI
- モノトーンをベースに、必要な箇所のみLINE緑を使用（CTA、アクティブ状態など）

### 2. ビジュアル要素の実装

#### 地図画像
- **統一スタイル**: `map4.png`を基準としたGoogle Maps風の地図
- **余計な情報の削除**: POIアイコンなどを最小限に
- **表示箇所**:
  - スワイプカードの1枚目（各物件）
  - 物件詳細ページのヒーロー画像
  - 内見日程調整ページ

#### 建物写真
- **実際の写真**: `建物写真.png`を使用
- **表示箇所**:
  - スワイプカードの2枚目
  - 物件詳細ページのヒーロー画像
  - 一覧のサムネイル（60×60px）

#### サムネイル
- **サイズ**: 60×60px
- **スタイル**: 角丸8px、グレースケール風味
- **フォールバック**: グレーグラデーション

### 3. UIコンポーネントの改善

#### ボタン
```css
プライマリボタン: 黒背景 + 白文字
アクセントボタン: LINE緑（重要なCTAのみ）
アウトラインボタン: 透明背景 + グレーボーダー
```

#### バッジ
```css
新着: LINE緑系
1日前: イエロー系
2日前: オレンジ系
3日前: レッド系（パルスアニメーション）
有効/アクティブ: LINE緑系
停止中/完了: グレー系
```

#### カード
```css
背景: 白
ボーダー: #F0F0F0（極薄グレー）
シャドウ: 最小限（0 1px 2px rgba(0,0,0,0.04)）
角丸: 12px
```

### 4. タイポグラフィ

| トークン | サイズ | 使用箇所 |
|----------|--------|---------|
| text-xs | 11px | キャプション、バッジ |
| text-sm | 13px | 補助テキスト、説明文 |
| text-base | 15px | 本文 |
| text-lg | 17px | セクション見出し |
| text-xl | 20px | ページタイトル |
| text-2xl | 24px | 統計数値 |

**フォント**: `-apple-system, BlinkMacSystemFont, "Hiragino Sans", "Noto Sans JP", sans-serif`

### 5. 全17画面の実装状況

| # | 画面ID | 画面名 | 実装状況 | 備考 |
|---|--------|--------|---------|------|
| 1 | welcome | ウェルカム | ✅ 完了 | モノトーングラデーション背景 |
| 2 | register | 会員登録 | ✅ 完了 | シンプルなフォーム |
| 3 | guide | 使い方ガイド | ✅ 完了 | 3ステップ説明 |
| 4 | criteria-biz | 条件を登録（条件名＋業態） | ✅ 完了 | 条件名テキスト入力 + 業態チェックボックス |
| 5 | criteria-area | エリア設定 | ✅ 完了 | テキスト検索→タグ→選択中→駅徒歩の順 |
| 6 | criteria-specs | 物件条件 | ✅ 完了 | 坪数・階数・賃料(万円)・坪賃料上限・初期費用上限 |
| 7 | tutorial | チュートリアル | ✅ 完了 | スワイプ操作説明 |
| 8 | dashboard | ダッシュボード | ✅ 完了 | ダークグラデーションCTA |
| 9 | swipe | 物件仕分け | ✅ 完了 | 地図・建物写真実装 |
| 10 | swipe-complete | 仕分け完了 | ✅ 完了 | チェックアイコンアニメーション |
| 11 | skipped | スキップ済み物件 | ✅ 完了 | 一覧表示 |
| 12 | property-detail | 物件詳細 | ✅ 完了 | 写真カルーセル（4枚スワイプ）+ 設備動的生成 |
| 13 | interested | 興味あり物件 | ✅ 完了 | 選択機能付き一覧 |
| 14 | viewings | 内見 | ✅ 完了 | 3タブ切替 |
| 15 | viewing-detail | 内見日程調整 | ✅ 完了 | ラジオ選択UI |
| 16 | criteria | 検索条件 | ✅ 完了 | 条件カード一覧 |
| 17 | criteria-detail | 条件詳細 | ✅ 完了 | バーチャート統計 |

### 6. インタラクション

#### ホバー効果
```css
ボタン: スケール1.02 + 色変化
カード: シャドウ強化
リンク: 下線表示
```

#### アニメーション
```css
CTAボタン: パルス（2.5秒周期）
3日前バッジ: レッドパルス（1.5秒周期）
完了アイコン: スケールイン（0.5秒）
```

### 7. レスポンシブ対応

- **最大幅**: 430px
- **パディング**: 16px
- **ボトムナビ**: 56px（固定）
- **ヘッダー**: 52px（スティッキー）

---

## ファイル構成

```
design-openstore/
├── swipe-prototype-v9.html       # v9モックアップ（最新版）
├── SPEC-v7.md                    # 本仕様書（v9対応）
├── SPEC-swipe-prototype-v6.md    # v6仕様書
├── building1/                    # 物件写真セット1（地図・外観・内装・間取り）
├── building2/                    # 物件写真セット2
└── building3/                    # 物件写真セット3
```

---

## 今後の改善予定

1. **実際の画像リソース**:
   - Pexels / Unsplash から東京の商業ビル写真を取得
   - Google Maps Static API の実装サンプル作成

2. **インタラクション強化**:
   - スワイプジェスチャーの実装
   - ページ遷移アニメーション

3. **アクセシビリティ**:
   - フォーカス状態の明確化
   - ARIA属性の追加

---

**作成日**: 2026-02-21
**最終更新**: 2026-02-22
**作成者**: Claude Sonnet 4.5 / Claude Opus 4.6
